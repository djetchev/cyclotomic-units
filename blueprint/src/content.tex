% In this file you should put the actual content of the blueprint.
% It will be used both by the web and the print version.
% It should *not* include the \begin{document}
%
% If you want to split the blueprint content into several files then
% the current file can be a simple sequence of \input. Otherwise It
% can start with a \section or \chapter for instance.

\chapter{Introduction}
This is my first experimental mini-project 
to formalize the theory of cyclotomic units in Lean. 

\chapter{The Index of Cyclotomic Units}

\section{Maximal real subfield}
\begin{defn}\label{defn:Kplus}
    Let $K = \mathbb{Q}(\zeta_n)$ where $\zeta_n$ is a primitive $n$-th root of unit. 
    Define the subfield $K^+ := \mathbb{Q}(\zeta_n + \zeta_n^{-1})$ of $K$.
\end{defn}

\begin{lem}\label{lem:Kplus}
    \uses{defn:Kplus}
    The subfield $K^+$ is the maximal real subfield of $K$.
\end{lem}

\begin{proof}
\end{proof}

\section{Cyclotomic units}
\begin{defn}\label{defn:cyclo-units}
    Define the cyclotomic units of a cyclotomic field $K = \mathbb{Q}(\zeta_n)$ with ring of integers 
    $O_K = \mathbb{Z}[\zeta_n]$ as the group 
    $$
    C_K := O_K^\times \cap \langle \zeta_n^a, 1 - \zeta_n^b \colon a, b \in \mathbb{Z} / n \mathbb{Z}\rangle. 
    $$
\end{defn}

\section{Index theorem}
\begin{thm}\label{thm:index}
    \lean{cyclotomic_units_index}
    \uses{defn:cyclo-units}
    Let $n := p^m \in \mathbb{N}$ for a prime $p$ and a positive integer $m$, and let $K = \mathbb{Q}(\zeta_n)$ where $\zeta_n$ is a primitive $n$-th root of unit. 
    Let $O_K$ be the ring of integers of $K$. 
    Let $C_K$ be the group of cyclotomic units in $K$ according to Definition~\ref{defn:cyclo-units}.
    Then
    \[
        [O_{K^+}^\times : C_{K^+}] = h_{K^+},
    \]
    where $h_{K^+}$ is the class number of the maximal real subfield $K^+$ of $K$.
\end{thm}

\begin{proof}
    \proves{thm:Kplus}
    \uses{lem:regRa}
    \begin{itemize}
        \item Show that the regulator of the units $\zeta(a)$ is non-zero, where 
        $$
        \zeta(a) := \zeta_{p^m}^{(1-a)/2} \frac{1 - \zeta_{p^m}^a}{1 - \zeta_{p^m}}, \qquad 1 < a < p^m / 2, \ (a, p) = 1.
        $$
        \item We then compute the regulator $R(\{\zeta(a)\})$. 
    \end{itemize}
\end{proof}

\subsection{Computing the regulator $R(\{\zeta(a)\})$}

\begin{lem}\label{lem:regRa}
    We have 
    $$
    R(\{\zeta(a)\}) = h^+ R^+, 
    $$
    where $R^+$ is the regulator of $K^+$.
\end{lem}

\begin{proof}
    \proves{lem:regRa}
\end{proof}